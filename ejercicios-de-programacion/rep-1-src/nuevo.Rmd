
## Tutorial tentativo:

## APUNTES DE LA ENCUESTA DE EVALUACIÓN 2013

- Hacer un esquema en papel para luego "traducir a R" (dice mencionar esto en un video, pero creo que en un primer repartido tutorial puede ir).

- Ejercicios cuyo único objetivo sea buscar en la ayuda algo.

- Mencionar que los traductores que hay en la web pueden ayudar bastante con el tema de entender la documentación en inglés.

- Dinámicas de tutorías internas en el curso: los que van más rápido pueden ayudar a los otros capaz. 

- Explicar como instalar R en ubuntu!

- Cuestionarios con preguntas relativas al video, no a R en sí.

- Muy abrumadora la cantidad de info que se manda de golpe al principio; meter lo importante que hay que saber dentro del repartido 1. Indicar claramente lo que son lecturas "extras".

- "difícil comprensión (al principio) de qué es lo que hay que hacer para seguir el curso"; Para aprobar el curso hay que HACER CUESTIONARIOS Y ENTREGAR LOS REPARTIDOS.

- Más notas para complementar los contenidos de videos.

- "Los cuestionarios me parecieron un poco rebuscados o detallistas en aspectos que a mi entender no son relevantes, siendo más un control de lectura excesivamente atento que un control del aprendizaje de los puntos relevantes, pero no sé si hay otra forma de hacerlo ;)"

- Errores en videos son "simpáticos" y ayudan a perderle miedo a los errores. Es útil ver como Juan los encara. Se puede agregar un ejercicio que sea simplemente solucionar un error. Un comando al que le falta una coma puede funcionar. También un caso de mayúscula/minúscula. O lenght en lugar de length.

- En el repartido 1: ejercicios sencillos, del tipo de rellenar código, porque empezar a hacer código de cero es muy difícil.

- Redacción de los repartidos se hacía complicada de entender.

- Agregar más ejercicios con solución a la vista (sin sistema de corrección) para ayudar a practicar más.

- Podría andar bien un ejercicio que se corrija con "peer-review".

- Implementar comunicación por chats.

- Cambiar el orden: 1 2 5 6 3 4 ("... las unidades 5 y 6 deberian estar antes que la 3 y la 4!! Me explico:  R no deja de ser un lenguaje de programacion orientado a objetos. Creo que resulta mas intuitivo ver 1ero los tipos de objetos que hay (unidad 2), luego los ""metodos o funciones"" que permiten la interaccion entre esos objetos (unidad 5), luego la relacion logica entre esos objetos (unidad 6) y por ultimo, ver como se ven esos objetos graficamente (unidad 4) o como puedo hacer para importar datos de otro lado o exportarlos para usarlos despues (unidad 3)").

- Explicar las penalizaciones en el repartido 1.

- Uso del tab y cómo esto afecta el uso de nombres de objetos en R: nombres largos pero informativos.

- Agregar una sección de AYUDA: para que si tienen problemas con un punto en particular vayan ahí; con secciones dedicadas a cuestionarios, repartidos, etc... (ej: indicar cómo es la dinámica de enviar/guardar cuestionarios; explicar cómo es la dinámica de la función evaluar y las actualizaciones del archivo datos). También estaría bien un FAQ con hipervínculos a estas ayudas.

### 0. Interfaz de RStudio

La interfaz de RStudio está dividida en 4 regiones, a las que en este curso llamaremos "paneles". En la figura 1 se muestra la distribución de los paneles y los nombres que usaremos a lo largo del repartido y el curso.

**Nota**: si es la primera vez que abre RStudio probablemente esté ausente el panel 1 (el editor de texto plano). Para ver dicho panel use el menú ``File >> New... >> R script`` (o la combinación de teclas: Ctrl+Shift+N).

![RStudio](imagenes/RStudio.png "Figura 1: interfaz de RStudio, mostrando los 4 paneles y sus funciones.")

Muchas veces se pueden usar combinaciones de teclas, también llamados "atajos", para realizar acciones en RStudio, y suelen ser muy prácticas. Aquí vamos a mencionar algunas, como en el último párrafo. Por lo tanto es necesario que usted entienda la notación que estándar para estos atajos. Por ejemplo: Ctrl+Shift+K refiere a la acción de presionar **al mismo tiempo** las teclas Ctrl ("control"), Shift y la letra *k*. A su vez Ctrl++ implica apretar las teclas Ctrl y + al mismo tiempo.

#### 0.1 Creación de un proyecto en RStudio

Para organizar los archivos provistos por el curso, se creará un directorio/carpeta en donde se guardarán estas lecciones así como el resto de documentos y datos. 

Este directorio contenerá además un proyecto de Rstudio. Un proyecto de RStudio es simplemente una forma de recordar nuestro conjunto selecto de archivos cada vez que estamos trabajando en un tema particular. Cuando abrimos RStudio en el proyecto X, vamos a tener abiertas las mismas pestañas que teníamos la última vez que trabajamos en X. Para crear el directorio y el proyecto al mismo tiempo en RStudio se puede utilizar el menú ``Project >> New Project...``, y luego se elije la opción *New Directory* (Fig. 2) y se crea el directorio **CursoR** (aunque usted puede elegir el nombre que más le guste). Al hacer esto el RStudio crea la carpeta y dentro de la misma un archivo llamado **CursoR.Rproj**, el cual se puede usar para abrir RStudio con el proyecto cargado (con *doble click*). RStudio abrirá por defecto con este proyecto cargado cada vez, a menos que este sea cerrado en la última sesión previa (``Project >> Close Project``).

![NewProject](imagenes/NewProject.png "Figura 2: menú de creación de un nueo proyecto en RStudio.")

#### 0.2 Codificación

Codificación refiere a la forma en que una computadora traduce secuencias de bits en caracteres normales (letras). Debido a contingencias históricas de la informática, hay muchas formas de establecer la codificación de un archivo.

Debido a que los scripts están codificados a través del formato UTF-8, lo recomendable es indicarle al RStudio que esta es la codificación que se va a utilizar por defecto. Esta es la codificación más común entre programadores, independientemente del lenguaje de programación. 

Utilizando la codificación correcta, se evitará encontrarse con palabras sin sentido como “programaciÃ³n” o “mÃ¡s” en los comentarios de los scripts (en lugar de "programación" o "más"). Bajo el menú ``Tools >> Options...`` se puede modificar la codificación por defecto, como lo indica la Figura 3.

![Encoding](imagenes/UTF-8.png "Figura 3: elección de la codificación por defecto para RStudio.")

También puede ver archivos individuales con determinada codificación, con el menú ``File >> Reopen with Encoding...``. Cuidado que esto no equivale a cambiarle la codificación al archivo; para eso está la opción ``File >> Save with Encoding...``.

Una opción intermedia es configurar cada proyecto para que use una codificación diferente. Esto se puede hacer en el menú ``Project >> Project options...``. De todas formas, recomendamos mantener siempre la misma codificación, en particular UTF-8.

### 1. Directorio de trabajo

Lo primero que debe hacer es elegir el directorio en el que va a trabajar. Para el curso ya recomendamos crear una carpeta llamada "CursoR", aunque puede llamarse como usted quiera. Si aún no la creó puede crearla directamente con R, con el comando:

    dir.create("CursoR")

Escriba o copie y pegue esto en la consola de R que se encuentra en RStudio (panel 2, de abajo-izquierda, bajo el nombre de "Console"). De enter. Esto va a crear una carpeta llamada CursoR dentro del directorio de trabajo actual. Puede confirmar de dos formas que la carpeta efectivamente fue creada: 1. con el navegador de archivos normal de su sistema operativo o 2. con el comando `dir`:

    dir()

Escribiendo esto en la consola (y dando enter) vemos una lista de nombres de achivos y carpetas (entre comillas). Allí se debería incluir "CursoR" si hicimos todo bien hasta el momento.

Como recordará de la lección 1.4, usted puede saber cuál es la carpeta de trabajo actual con la función `getwd`. De todas formas lo que nos interesa es "ubicarnos" en la carpeta CursoR, así que vamos a usar `setwd` para hacerlo:

    setwd("CursoR")

Nótese que aquí usamos el camino relativo para ubicarnos. Es útil de momento, pero no siempre es lo ideal.

Podríamos haber hecho lo mismo con los botones de RStudio: ``Session >> Set Working Directory >> Choose Directory`` (o la combinación de teclas Ctrl+Shift+k). Nótese que el comando `setwd("camino absoluto")` aparece igualmente en la consola (abajo-izquierda) y además también aparece en la historia de comandos. Dicha historia se encuentra en el panel de arriba-derecha, en la pestaña "History". Esta historia es muy útil si queremos buscar y recuperar algún comando ejecutado hace un tiempo (aunque no es infinita).

### 2. El command prompt

Nuestro primer comando (no escribir aún), será este:

    mi.objeto <- 4

Pero, ¿dónde vamos a escribirlo? 

- Opción 1: la consola de RStudio. Sólo hay que dar *enter* al terminar de escribirlo. No hace falta que el cursor esté al final de la sentencia para dar el enter.

- Opción 2: en el editor de texto plano de RStudio (arriba-izquierda). Primero debe iniciar un archivo nuevo: vaya a ``File >> New >> R Script`` (Ctrl+Shift+N), recién entonces será visible este panel. En RStudio este panel se llama "Source" (en inglés, fuente); es el "código fuente" con el que trabajamos en un momento dado. Como aún no guardamos el archivo, este figura bajo el nombre "Untitled1" (Sin título 1).
    
En general preferimos la segunda opción. Escribir los comandos en el editor nos permite guardar todo lo que hacemos, de forma que se puede repetir en el futuro con facilidad.

A continuación, escriba nuestro comando, primero en la consola, dando enter al final para que se ejecute, y luego en el Source (editor de texto):

    mi.objeto <- 4

Nota: ponga los espacios en blanco también; no afectan al comando, pero facilitan la lectura.

Debido a que usted le dió enter al comando en la consola, ahora en su sesión existe un objeto llamado `mi.objeto`. Puede ver una lista de los objetos que existen en el panel de arriba-derecha, bajo la pestaña "Workspace" (área de trabajo). 
También puede ver una lista de objetos existentes con el comando `ls`: escriba en la consola

    ls()

Ahora veamos como terminar de usar la "opción 2". Como se dijo antes, preferimos usar el editor para escribir nuestros comandos, ya que nos permite repetirlos fácilmente. En RStudio se pueden ejecutar directamente los comandos escritos en el editor de texto plano. Hay que ubicar al cursor en la línea que nos interesa y apretar las teclas Ctrl + Enter (en simultáneo). Haga la prueba con la línea `mi.objeto <- 4`.

Al usar Ctrl + Enter podemos ver que aparece la misma línea en la consola y se ve así:

    > mi.objeto <- 4
    >

Al ver esto tenemos la información necesaria para saber que el comando ya fue ejecutado, ¿cómo? gracias a la existencia del "command prompt", el signo de `>` que aparece al principio de cada línea en la consola.

El command prompt solo que aparece en la última línea es un indicador de que R ya terminó de ejecutar todo lo que se le pidió anteriormente. Es una forma de decir "estoy listo para recibir órdenes". Considere ahora las diferencias entre encontrar esto en la consola:

    > mi.objeto <- 4

y esto:

    > mi.objeto <- 4
    >

En el primer caso el comando `mi.objeto <- 4` aún no se ejecutó, mientras que en el segundo sí. ¿Ve la diferencia?

Un error de principiante muy común es el de copiar líneas de comando incluyendo el/los command prompt al principio. Al tratar de ejecutar estas líneas surge un error que difícilmente pueda comprender el usuario, ya que suele ser un principiante. Es buena idea ver un ejemplo de este error: en el editor, agregue un command propt al principio de nuestro comando, de forma que quede así: "`> mi.objeto <- 4`" (sin las comillas). Ahora envíe esta línea a la consola (ponga el cursor en esa línea y aprete Ctrl + Enter). Vea el mensaje de error que devuelve R:

    > > mi.objeto <- 4
    Error: unexpected '>' in ">"

Nota: puede que el mensaje esté en español en su PC, dependiendo del idioma en el que haya instalado R. Borre el command prompt que acaba de agregar para evitar errores futuros.

El command prompt es entonces una indicación útil, pero también molesta. Muchas veces en libros o páginas web se muestran comandos de R que empiezan con el command prompt, lo cual es muy desconsiderado, ya que el usuario debe encargarse de borrar manualmente cada uno antes de poder reproducir los ejemplos.

El command prompt tiene otra variante, el signo de `+`. El significado es diferente, indica que los comandos anteriores no están completos. Por ejemplo, si escribo `mi.objeto <-` va a faltar algo. Haga el ejemplo vaya al editor y borre el 4 al final de nuestro comando, luego envíelo a la consola de R. Puede ver que en la misma aparece lo siguiente:

    > mi.objeto <-
    +

Esta es la forma de R de indicar que el comando no está completo. Le está diciendo al usuario "aún me falta algo para poder ejecutar sus órdenes, dígame ¿qué valor debo asignar a `mi.objeto`?". El usuario, usted, puede completar el comando sin problemas: vaya a la consola y escriba 4. Ahora de enter. Debería ver esto:

    > mi.objeto <-
    + 4
    >

También tiene la opción de interrumpir el comando y volver al command prompt normal. Alcanza con ir a la consola y apretar la tecla de escape (Esc). En este caso se ve así en la consola:

    > mi.objeto <-
    + 

    >

Pasaremos ahora a hacer cosas más elaboradas ...

Si no lo hizo antes, agregue al principio del script el comando que sirve para elegir el directorio de trabajo. Si usted usó los botones de RStudio (o la combinación Ctrl+Shift+k) de todas formas el comando aparece en la historia de comandos (arriba-derecha). Si no lo encuentra, use la lupa o buscador, que aparece en la pestaña History y escriba `setwd`, para filtrar la historia. Si selecciona con el ratón dicho comando, con el botón "To Source" puede enviar este comando al editor de texto; recuerde ubicarlo al principio del mismo, en la línea 1. Y recuerde que tampoco puede usarse un camino relativo aquí (más adelante se explica por qué).

### 

De aquí en más agarrar algún ejercicio del repartido 1 y hacerlo paso a paso

### Ejemplo: polinomios

Como se traduce la ecuación de un polinomio a R. Cuál es la gracia de sustituir x por un valor y viceversa.

### Resolviendo un ejercicio de repartido

### X Soluciones genéricas

La filosofía nuestra es de que el codigo sea reusable/reciclable.

### Usando la función evaluar

Cargando el archivo.

Notas mayores a 100% (ejercicios extras).

### El archivo datos

Cómo saber si está actualizado. Cómo bajarlo. Qué hacer si windows lo transforma en datos.txt (nada, al cargar evaluar.R se el nombre se modifica a datos a secas). 

### Errores.

A no tener miedo de cometerlos. Hasta los más experimentados vivimos cometiendo errores, incluso los más tontos (pero por suerte, con menos frecuencia). No es cometer o no errores lo que te hace un buen programador. Un buen progamador se define por su capacidad de anticiparse a lo que necesita y a cómo obtenerlo; es quien puede visualizar cómo interactúan las distintas piezas del sistema que él mismo está diseñando. Es en gran medida, un diseñador/arquitecto.

Hagamos un error a propósito. En muchos casos, esta es una técnica muy efectiva de saber si nuestro código funciona. Escriba en la consola lo siguiente:

```{r}
lenght(1:6)
```

(Recordará de la lección 1.2 que 1:6 es simplemente la secuencia de números 1, 2, 3 ... 6.)

Este comando genera un error y el siguiente mensaje: `Error: could not find function "lenght"` (Error: no se encontró la función "lenght"). Se trata de un error clásico. Este mensaje indica que R buscó entre todas las funciones existentes en su repertorio y no encontró la función llamada "lenght". La enorme mayoría de las veces estos mensajes se deben a que hay un error de escritura; en este caso la h está mal ubicada: es length y no lenght.

A veces ocurre que R no encuentra una función (u otro tipo de objeto, como puede ser un vector o una matriz), debido a que usted no ha cargado el paquete correcto. Por ejemplo, la función `fractions` se encuentra en el paquete "MASS", el cual si bien se instala con R, no está cargado automáticamente en su sesión de trabajo. Si quisiéramos ver el código de la función R nos va a dar un mensaje de error:

    > fractions
    Error: object 'fractions' not found

(Nótese que aquí se usa el término genérico "objects", en lugar de "function" como en el ejemplo anterior; R determinó que lenght debió ser una función, ya que a continuación de dicha palabra venía la apertura de un paréntesis.)

### Entregar un repartido con retraso:

X días, Y horas de retraso ---> penalización = (X + 1) * 5 (siempre que Y > 0).









